
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.openindiana.org/dev/legacy-consolidations/">
      
      
        <link rel="prev" href="../userland/">
      
      
        <link rel="next" href="../graphics-stack/">
      
      
      <link rel="icon" href="../../oi_logo.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.7">
    
    
      
        <title>Building legacy consolidations - OpenIndiana Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.046329b4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../assets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#legacy-consolidations" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="OpenIndiana Docs" class="md-header__button md-logo" aria-label="OpenIndiana Docs" data-md-component="logo">
      
  <img src="../../oi_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OpenIndiana Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Building legacy consolidations
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/OpenIndiana/oi-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../misc/openindiana/" class="md-tabs__link">
          
  
  About

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../handbook/getting-started/" class="md-tabs__link">
          
  
  Handbook

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../books/about/" class="md-tabs__link">
          
  
  OpenSolaris Books

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../contrib/content/" class="md-tabs__link">
          
  
  Contrib

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="OpenIndiana Docs" class="md-nav__button md-logo" aria-label="OpenIndiana Docs" data-md-component="logo">
      
  <img src="../../oi_logo.png" alt="logo">

    </a>
    OpenIndiana Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/OpenIndiana/oi-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/openindiana/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About OpenIndiana
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/oi-docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About OpenIndiana Docs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/conduct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenIndiana Code of Conduct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/pdl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Public Documentation License
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/latest-changes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Latest changes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/2020.10-release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2020.10 Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/2020.04-release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2020.04 Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/2019.10-release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019.10 Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/2019.04-release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019.04 Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/2018.10-release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2018.10 Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/2018.04-release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2018.04 Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/2017.10-release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2017.10 Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/2017.04-release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2017.04 Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/2016.10-release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2016.10 Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/2016.04-release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2016.04 Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/2015.10-release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2015.10 Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/2015.03-release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2015.03 Release Notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Handbook
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Handbook
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/common-tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common Tasks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/systems-administration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Systems Administration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/network-communications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network Communications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/appendix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Appendix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Community Contributed Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Community Contributed Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/community/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About Community Contributed Tutorials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/community/oracledb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Oracle Database Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/community/samqfs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage Archive Manager Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/sunray/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sun Ray Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/community/inputmethod/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intelligent Input Bus (IBus)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/community/squeak/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Squeak Smalltalk-80 Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/community/texlive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TeX Live Typesetting Software Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/community/vagrant/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vagrant Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/community/quikstor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using RDX Quikstor media
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Community Hardware Compatibility List
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            Community Hardware Compatibility List
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../community-hcl/getting-hardware-info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting information about hardware
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../community-hcl/components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Components
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../community-hcl/systems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Systems
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" checked>
        
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer's Corner
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            Developer's Corner
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../building-openindiana/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building OpenIndiana
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../userland/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building with oi-userland
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Building legacy consolidations
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Building legacy consolidations
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#primary-software-consolidations" class="md-nav__link">
    Primary software consolidations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-legacy-consolidations" class="md-nav__link">
    Building legacy consolidations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-oi-build" class="md-nav__link">
    Building oi-build
  </a>
  
    <nav class="md-nav" aria-label="Building oi-build">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#oi-build-overview" class="md-nav__link">
    oi-build overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-your-build-environment" class="md-nav__link">
    Setting up your build environment
  </a>
  
    <nav class="md-nav" aria-label="Setting up your build environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ensuring-your-system-is-up-to-date" class="md-nav__link">
    Ensuring your system is up to date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-pre-requisites" class="md-nav__link">
    Installing pre-requisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-on-sun-studio-compilers" class="md-nav__link">
    Changes on Sun Studio compilers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-oi-build-and-preparing-for-first-use" class="md-nav__link">
    Downloading oi-build and preparing for first use
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-the-local-repository-to-your-publisher-list" class="md-nav__link">
    Adding the local repository to your publisher list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-running-a-local-pkg-server-for-installation-on-other-zoneshosts" class="md-nav__link">
    Optional: Running a local pkg server for installation on other zones/hosts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ready-to-build-and-install-your-first-package" class="md-nav__link">
    Ready to build and install your first package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contributing-changes-back-to-oi-build" class="md-nav__link">
    Contributing changes back to oi-build
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-ipspkg" class="md-nav__link">
    Building IPS/pkg
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-sfw" class="md-nav__link">
    Building SFW
  </a>
  
    <nav class="md-nav" aria-label="Building SFW">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-dependencies" class="md-nav__link">
    Installing dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#doing-a-build" class="md-nav__link">
    Doing a build:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-xnv" class="md-nav__link">
    Building XNV
  </a>
  
    <nav class="md-nav" aria-label="Building XNV">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-pre-requisites" class="md-nav__link">
    Install pre-requisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-the-build" class="md-nav__link">
    Do the build
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-jds" class="md-nav__link">
    Building JDS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-slim_source" class="md-nav__link">
    Building slim_source
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../graphics-stack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Graphics stack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../pdf/ips-dev-guide.pdf" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Packaging and Delivering Software with IPS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../distribution-constructor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using distribution constructor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../existing-tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Existing tasks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../repo-cleanup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cleaning up OpenIndiana repository
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../handbook/pdfdocs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PDF Documentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OpenSolaris Books
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            OpenSolaris Books
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../books/about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About OpenSolaris Books
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../books/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Administration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../books/advanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced Administration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../books/express/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Solaris Express Administration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../books/trusted/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trusted Extensions Administration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../books/develop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Titles
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Contrib
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Contrib
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../contrib/content/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Content Creation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../contrib/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../contrib/tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributor Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../contrib/roles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributor Roles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../contrib/topics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributor Topics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../contrib/style/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributor Style Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../contrib/markdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Markdown Syntax Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../contrib/git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git Usage Guide
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#primary-software-consolidations" class="md-nav__link">
    Primary software consolidations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-legacy-consolidations" class="md-nav__link">
    Building legacy consolidations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-oi-build" class="md-nav__link">
    Building oi-build
  </a>
  
    <nav class="md-nav" aria-label="Building oi-build">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#oi-build-overview" class="md-nav__link">
    oi-build overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-your-build-environment" class="md-nav__link">
    Setting up your build environment
  </a>
  
    <nav class="md-nav" aria-label="Setting up your build environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ensuring-your-system-is-up-to-date" class="md-nav__link">
    Ensuring your system is up to date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-pre-requisites" class="md-nav__link">
    Installing pre-requisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-on-sun-studio-compilers" class="md-nav__link">
    Changes on Sun Studio compilers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-oi-build-and-preparing-for-first-use" class="md-nav__link">
    Downloading oi-build and preparing for first use
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-the-local-repository-to-your-publisher-list" class="md-nav__link">
    Adding the local repository to your publisher list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-running-a-local-pkg-server-for-installation-on-other-zoneshosts" class="md-nav__link">
    Optional: Running a local pkg server for installation on other zones/hosts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ready-to-build-and-install-your-first-package" class="md-nav__link">
    Ready to build and install your first package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contributing-changes-back-to-oi-build" class="md-nav__link">
    Contributing changes back to oi-build
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-ipspkg" class="md-nav__link">
    Building IPS/pkg
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-sfw" class="md-nav__link">
    Building SFW
  </a>
  
    <nav class="md-nav" aria-label="Building SFW">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-dependencies" class="md-nav__link">
    Installing dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#doing-a-build" class="md-nav__link">
    Doing a build:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-xnv" class="md-nav__link">
    Building XNV
  </a>
  
    <nav class="md-nav" aria-label="Building XNV">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-pre-requisites" class="md-nav__link">
    Install pre-requisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-the-build" class="md-nav__link">
    Do the build
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-jds" class="md-nav__link">
    Building JDS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-slim_source" class="md-nav__link">
    Building slim_source
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/OpenIndiana/oi-docs/edit/master/docs/dev/legacy-consolidations.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<!--

The contents of this Documentation are subject to the Public Documentation License Version 1.01
(the "License"); you may only use this Documentation if you comply with the terms of this License.
A copy of the License is available at http://illumos.org/license/PDL.

The Original Documentation is _________________.

The Initial Writer of the Original Documentation is Jon Tibble Copyright (C) 2010.
All Rights Reserved. (Initial Writer contact(s):________________[Insert hyperlink/alias]).

Contributor(s): Alasdair Lumsden, Aurelien Larcher, Alexander Pyhalov

Portions created by Alasdair Lumsden are Copyright (C) 2011.
Portions created by Aurelien Larcher are Copyright (C) 2017.
Portions created by Alexander Pyhalov are Copyright (C) 2019.

Portions created by ______ are Copyright (C)_________[Insert year(s)].
All Rights Reserved. (Contributor contact(s):________________[Insert hyperlink/alias]).

-->

<h1 id="legacy-consolidations">Legacy Consolidations</h1>
<p>Initial OpenIndiana versions were based on the same release process as OpenSolaris, assembled from a set of software consolidations.
This complex Release Engineering has been deprecated in favour of the unified build system oi-userland: the list of consolidation and corresponding build instructions are left here as reference.</p>
<table>
<thead>
<tr>
<th>Consolidation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>onnv-gate</td>
<td>Operating System/Networking Nevada consolidation provided OpenSolars kernel and core userland components</td>
</tr>
<tr>
<td>illumos-gate</td>
<td>illumos-gate provides kernel and core userland components</td>
</tr>
<tr>
<td>oi-build</td>
<td>oi-build provided some userland components and was a oi-userland predecessor</td>
</tr>
<tr>
<td>IPS/pkg</td>
<td>Image Packaging System provides package management software and some zone brands definitions</td>
</tr>
<tr>
<td>SFW</td>
<td>Solaris Freeware consolidation provided open source software bundled with operating system</td>
</tr>
<tr>
<td>XNV</td>
<td>X11 Nevada consolidation provided Xorg server and related software</td>
</tr>
<tr>
<td>JDS</td>
<td>Java Desktop System consolidation provided Gnome2 and other desktop software</td>
</tr>
<tr>
<td>Caiman (slim_source)</td>
<td>slim_source provides operating system installers and Distribution Constructor</td>
</tr>
<tr>
<td>vpanels</td>
<td>Visual Panels provided server management GUI</td>
</tr>
<tr>
<td>sunpro/devpro</td>
<td>Sunpro consolidation provided Sun Studio compilers and some related libraries</td>
</tr>
<tr>
<td>xvm</td>
<td>Contained Sun xVM virtualization software based on Xen</td>
</tr>
<tr>
<td>g11n</td>
<td>Globalization consolidation contained internationalisation software</td>
</tr>
<tr>
<td>solaris_re</td>
<td>Contained software related to Solaris engineering</td>
</tr>
<tr>
<td>cde</td>
<td>Provided Common Desktop Environment</td>
</tr>
</tbody>
</table>
<h2 id="primary-software-consolidations">Primary software consolidations</h2>
<table>
<thead>
<tr>
<th>Consolidation</th>
<th>Oracle Solaris link</th>
<th>Original Openindiana HG link</th>
<th>Status</th>
<th>OpenIndiana Hipster link</th>
<th>Build instructions</th>
</tr>
</thead>
<tbody>
<tr>
<td>onnv-gate</td>
<td>N/A (closed source)</td>
<td>N/A</td>
<td>Replaced by illumos-gate</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>illumos-gate</td>
<td>N/A</td>
<td><a href="https://github.com/OpenIndiana/illumos-gate/">https://github.com/OpenIndiana/illumos-gate/</a></td>
<td>Integrated in <a href="https://github.com/OpenIndiana/oi-userland/tree/oi/hipster/components/openindiana/illumos-gate">oi-userland</a></td>
<td><a href="https://github.com/illumos/illumos-gate/">https://github.com/illumos/illumos-gate/</a></td>
<td><a href="https://illumos.org/docs/developers/build/">https://illumos.org/docs/developers/build/</a></td>
</tr>
<tr>
<td>oi-build</td>
<td><a href="https://github.com/Oracle/solaris-userland/">https://github.com/Oracle/solaris-userland/</a></td>
<td><a href="https://hg.openindiana.org/sustaining/oi_151a/oi-build/">https://hg.openindiana.org/sustaining/oi_151a/oi-build/</a></td>
<td>Superceded by <a href="https://github.com/OpenIndiana/oi-userland/">oi-userland</a></td>
<td><a href="https://github.com/OpenIndiana/oi-userland">https://github.com/OpenIndiana/oi-userland</a></td>
<td><a href="#building-oi-build">Building oi-build</a></td>
</tr>
<tr>
<td>IPS/pkg</td>
<td><a href="https://github.com/Oracle/solaris-ips/">https://github.com/Oracle/solaris-ips/</a></td>
<td><a href="https://hg.openindiana.org/sustaining/oi_151a/pkg-gate/">https://hg.openindiana.org/sustaining/oi_151a/pkg-gate/</a></td>
<td>Integrated in <a href="https://github.com/OpenIndiana/oi-userland/tree/oi/hipster/components/openindiana/pkg">oi-userland</a></td>
<td><a href="https://github.com/OpenIndiana/pkg5/">https://github.com/OpenIndiana/pkg5/</a></td>
<td><a href="#building-ipspkg">Building IPS/pkg</a></td>
</tr>
<tr>
<td>SFW</td>
<td>N/A (merged into <a href="http://github.com/Oracle/solaris-userland/">solaris-userland</a>)</td>
<td><a href="https://hg.openindiana.org/sustaining/oi_151a/sfw-gate/">https://hg.openindiana.org/sustaining/oi_151a/sfw-gate/</a></td>
<td>Merged into <a href="https://github.com/OpenIndiana/oi-userland/">oi-userland</a></td>
<td>N/A</td>
<td><a href="#building-sfw">Building SFW</a></td>
</tr>
<tr>
<td>XNV</td>
<td><a href="https://github.com/Oracle/solaris-xorg/">https://github.com/Oracle/solaris-xorg/</a> (merged into <a href="https://github.com/oracle/solaris-userland/tree/master/components/x11">solaris-userland</a>)</td>
<td><a href="https://hg.openindiana.org/sustaining/oi_151a/xnv/">https://hg.openindiana.org/sustaining/oi_151a/xnv/</a></td>
<td>Merged into <a href="https://github.com/OpenIndiana/oi-userland/">oi-userland</a></td>
<td>N/A</td>
<td><a href="#building-xnv">Building XNV</a></td>
</tr>
<tr>
<td>JDS</td>
<td>N/A  (merged into <a href="https://github.com/Oracle/solaris-userland/">solaris-userland</a>)</td>
<td><a href="https://hg.openindiana.org/sustaining/oi_151a/spec-files/">https://hg.openindiana.org/sustaining/oi_151a/spec-files/</a></td>
<td>Merged into <a href="https://github.com/OpenIndiana/oi-userland/">oi-userland</a></td>
<td>N/A</td>
<td><a href="#building-jds">Building JDS</a></td>
</tr>
<tr>
<td>Caiman (slim_source)</td>
<td>N/A</td>
<td><a href="https://hg.openindiana.org/sustaining/oi_151a/slim_source/">https://hg.openindiana.org/sustaining/oi_151a/slim_source/</a></td>
<td>Integrated in <a href="https://github.com/OpenIndiana/oi-userland/tree/oi/hipster/components/openindiana/slim_source">oi-userland</a></td>
<td><a href="https://github.com/OpenIndiana/slim_source/">https://github.com/OpenIndiana/slim_source/</a></td>
<td><a href="#building-slim_source">Building slim_source</a></td>
</tr>
<tr>
<td>vpanels</td>
<td>N/A (dropped)</td>
<td>N/A</td>
<td>Dropped</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>sunpro/devpro</td>
<td>N/A (closed source)</td>
<td>N/A</td>
<td>libm and make were integrated to illumos-gate, other parts are delivered in binary form (including library/medialib, system/library/c++/sunpro, developer/macro/cpp, system/library/mtsk)</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>xvm</td>
<td>N/A (dropped)</td>
<td>N/A</td>
<td>Dropped</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>g11n</td>
<td>N/A (closed source)</td>
<td><a href="https://hg.openindiana.org/sustaining/oi_151a/g11n/g11n/">https://hg.openindiana.org/sustaining/oi_151a/g11n/g11n/</a></td>
<td>Parts merged into illumos-gate, parts distributed in binary forms, parts marked obsolete</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>solaris_re</td>
<td>N/A (closed source)</td>
<td>N/A</td>
<td>Relevant parts merged into oi-userland</td>
<td><a href="https://github.com/OpenIndiana/oi-userland/tree/oi/hipster/components/openindiana/release">https://github.com/OpenIndiana/oi-userland/tree/oi/hipster/components/openindiana/release</a></td>
<td>N/A</td>
</tr>
<tr>
<td>cde</td>
<td>N/A (closed source)</td>
<td>N/A</td>
<td>Some parts are redistributed in binary form</td>
<td>N/A</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<h2 id="building-legacy-consolidations">Building legacy consolidations</h2>
<div class="note">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note, these instructions were not tested on modern OpenIndiana versions and preserved as is just for reference. You usually don't need to build legacy consolidations them manually.</p>
</div>
</div>
<h2 id="building-oi-build">Building oi-build</h2>
<div class="caution">
<div class="admonition danger">
<p class="admonition-title">Caution</p>
<p><strong>oi-build is a legacy consolidation which was superceded with oi-userland !!!</strong>
For building oi-userland see <a href="../userland/">Building with oi-userland</a></p>
</div>
</div>
<p>Following instructions describe building oi-build on legacy OpenIndiana /dev distribution.</p>
<p><strong>oi-build</strong> is OpenIndiana's primary build framework for post-oi_151 development. It is set to replace all existing consolidations, vastly simplifying how we build the operating system.</p>
<p>oi-build is also tied into our continuous integration platform. When an update is committed to the oi-build mercurial repository, an automated build is kicked off. This will then automatically publish the built package to the /experimental repo, or generate an email alert if the build failed (to be completed).</p>
<h3 id="oi-build-overview">oi-build overview</h3>
<p>oi-build is a fork of Oracle's userland-gate, which we have extended and added additional software to. The layout is very similar.</p>
<p>Inside oi-build is a directory called <code>components</code>, under which lives a directory for each software package. Inside each of these software package directories is a main <code>Makefile</code>, as well as one or more <code>.p5m</code> IPS manifest files, and there may also be license files and patches.</p>
<p>The <code>Makefile</code> essentially contains a "build recipe". To build a piece of software, you simply <code>cd</code> into the directory of the software, and type <code>make TARGET</code>, where <code>TARGET</code> can be one of:</p>
<ul>
<li><strong>prep</strong> : Download, extract and patch the software archive</li>
<li><strong>build</strong> : Build the software</li>
<li><strong>install</strong> : Install the software into the prototype directory</li>
<li><strong>sample-manifest</strong> : Create a sample manifest file in the build directory</li>
<li><strong>publish</strong> : Publish the software to the local userland IPS repo</li>
</ul>
<p>For more details about writing Makefiles for userland, see userland Makefile targets and variables</p>
<div class="note">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Before adding new packages to illumos-userland... Before considering adding a new package to oi-build, please check first whether someone else is working on the package by checking the issue tracker.</p>
<ul>
<li>If you don't find anyone already working on a port, please register your effort by opening an issue.</li>
<li>If you wish to update an existing port, look at the log for the component Makefile ("hg log Makefile") and make sure you either contact the person who last updated the Makefile or include them on notifications for the issue by ticking their name.</li>
</ul>
<p>This will ensure efforts aren't duplicated and help to ensure sanity and comity amongst project members.</p>
</div>
</div>
<h3 id="setting-up-your-build-environment">Setting up your build environment</h3>
<p>We strongly recommend building packages inside a fresh local zone set up exclusively for building.</p>
<p>Some suggestions about build environment (dataset layouts, etc.) can also be found in the illumos wiki: <a href="https://illumos.org/docs/developers/build/">How to build illumos</a> (note however that compilers required for the core OS may be different than those acceptable for userland software).</p>
<h4 id="ensuring-your-system-is-up-to-date">Ensuring your system is up to date</h4>
<p>oi-build requires that your system be updated with the latest software from the pkg.openindiana.org/experimental repository.</p>
<p>The procedure to do this is as follows:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>sudo<span class="w"> </span>/usr/bin/pkg<span class="w"> </span>set-publisher<span class="w"> </span>-p<span class="w"> </span>http://pkg.openindiana.org/experimental/
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>sudo<span class="w"> </span>/usr/bin/pkg<span class="w"> </span>set-publisher<span class="w"> </span>-P<span class="w"> </span>oi-experimental
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>sudo<span class="w"> </span>/usr/bin/pkg<span class="w"> </span>set-publisher<span class="w"> </span>--non-sticky<span class="w"> </span>openindiana.org
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>sudo<span class="w"> </span>/usr/bin/pkg<span class="w"> </span>install<span class="w"> </span>-v<span class="w"> </span>package/pkg
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>sudo<span class="w"> </span>/usr/bin/pkg<span class="w"> </span>update<span class="w"> </span>-v
</span></code></pre></div>
<p>The first line adds the experimental repo to your package publisher list, the second line sets it as the primary publisher, and the third line allows packages from the experimental repo to replace those installed from the openindiana.org repo. The last line updates your system with the newer packages.</p>
<p>Note: If you are doing this in a zone and encounter an error from pkg about being unable to clone the current boot environment, you will need to update the zone from the global zone by doing:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>ZONE=yourzonename
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>ZONEROOT=`zonecfg -z $ZONE info zonepath | awk &#39;{print $NF}&#39;`
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>sudo zoneadm -z $ZONE halt
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>sudo zoneadm -z $ZONE ready
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>export PYTHONPATH=${ZONEROOT}/root/usr/lib/python2.6/vendor-packages
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>sudo ${ZONEROOT}/root/usr/bin/pkg -R ${ZONEROOT}/root set-publisher -p http://pkg.openindiana.org/experimental/
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>sudo ${ZONEROOT}/root/usr/bin/pkg -R ${ZONEROOT}/root set-publisher -P oi-experimental
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>sudo ${ZONEROOT}/root/usr/bin/pkg -R ${ZONEROOT}/root set-publisher --non-sticky openindiana.org
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>sudo ${ZONEROOT}/root/usr/bin/pkg -R ${ZONEROOT}/root install -v package/pkg
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>sudo ${ZONEROOT}/root/usr/bin/pkg -R ${ZONEROOT}/root update -v
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>unset PYTHONPATH ZONE ZONEROOT
</span></code></pre></div>
<div class="note">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that the /experimental repo is under continuous development and may contain breakage. Thus we (as mentioned) strongly recommend building inside a dedicated development zone, rather than updating your main system.</p>
</div>
</div>
<h4 id="installing-pre-requisites">Installing pre-requisites</h4>
<p>First, lets install the required software list:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>sudo<span class="w"> </span>/usr/bin/pkg<span class="w"> </span>install<span class="w"> </span>pkg:/archiver/gnu-tar<span class="w"> </span>pkg:/compress/p7zip<span class="w"> </span>pkg:/compress/unzip<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w"> </span>pkg:/developer/build/ant<span class="w"> </span>pkg:/developer/build/autoconf<span class="w"> </span>pkg:/developer/build/automake-110<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w"> </span>pkg:/developer/build/gnu-make<span class="w"> </span>pkg:/developer/build/libtool<span class="w"> </span>pkg:/developer/build/make<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w"> </span>pkg:/developer/gcc-3<span class="w"> </span>pkg:/developer/gnome/gettext<span class="w"> </span>pkg:/developer/java/jdk<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w"> </span>pkg:/developer/java/junit<span class="w"> </span>pkg:/developer/lexer/flex<span class="w"> </span>pkg:/developer/macro/cpp<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w"> </span>pkg:/developer/macro/gnu-m4<span class="w"> </span>pkg:/developer/object-file<span class="w"> </span>pkg:/developer/parser/bison<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w"> </span>pkg:/developer/versioning/mercurial<span class="w"> </span>pkg:/file/gnu-coreutils<span class="w"> </span>pkg:/file/gnu-findutils<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w"> </span>pkg:/library/libtool/libltdl<span class="w"> </span>pkg:/library/libxslt<span class="w"> </span>pkg:/library/pcre<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w"> </span>pkg:/runtime/perl-512<span class="w"> </span>pkg:/system/library/math/header-math<span class="w"> </span>pkg:/text/gawk<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w"> </span>pkg:/text/gnu-diffutils<span class="w"> </span>pkg:/text/gnu-gettext<span class="w"> </span>pkg:/text/gnu-grep<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w"> </span>pkg:/text/gnu-patch<span class="w"> </span>pkg:/text/gnu-sed<span class="w"> </span>pkg:/text/groff<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w"> </span>pkg:/text/texinfo<span class="w"> </span>pkg:/library/neon<span class="w"> </span>pkg:/library/apr-util-13<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w"> </span>pkg:/developer/library/lint<span class="w"> </span>pkg:/system/header<span class="w"> </span>pkg:/developer/build/onbld<span class="w"> </span><span class="se">\</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w"> </span>pkg:/data/docbook
</span></code></pre></div>
<h4 id="changes-on-sun-studio-compilers">Changes on Sun Studio compilers</h4>
<p>Oracle just moved the Studio Compiler. Now you need to login to access "Oracle Solaris Studio 12.3" they can be found at</p>
<p><a href="http://www.oracle.com/technetwork/server-storage/solarisstudio/downloads/index.html">http://www.oracle.com/technetwork/server-storage/solarisstudio/downloads/index.html</a></p>
<p>The following steps are needed to get it running:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">DOWNLOAD_LOCATION</span><span class="o">=</span><span class="nv">$HOME</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="nb">cd</span><span class="w"> </span>/opt
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>tar<span class="w"> </span>xjf<span class="w"> </span><span class="nv">$DOWNLOAD_LOCATION</span>/SolarisStudio12.3-solaris-x86-bin.tar.bz2<span class="w"> </span>-C<span class="w"> </span>./
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>ln<span class="w"> </span>-s<span class="w"> </span>/opt/SolarisStudio12.3-solaris-x86-bin/solarisstudio12.3/<span class="w"> </span>./SUNWspro
</span></code></pre></div>
<h3 id="downloading-oi-build-and-preparing-for-first-use">Downloading oi-build and preparing for first use</h3>
<p>See the illumos wiki instructions <a href="https://illumos.org/docs/developers/build/">How to build illumos</a> for optional suggestions about build environment (dedicated ZFS dataset layouts, etc.)</p>
<p>Check out the repository (subdirectory oi-build must not pre-exist):</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nb">cd</span><span class="w"> </span>~
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>hg<span class="w"> </span>clone<span class="w"> </span>https://hg.openindiana.org/oi-build
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nb">cd</span><span class="w"> </span>oi-build
</span></code></pre></div>
<p>Now we will run the setup stage, which will prepare some tools, and create an IPS pkg5 repository for first use under the i386/build directory:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nb">cd</span><span class="w"> </span><span class="nv">$HOME</span>/oi-build
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1"># If you have the Sun Studio compilers installed</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>gmake<span class="w"> </span>setup
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="c1"># If you don&#39;t have (access to) the Studio compilers or want to use GCC</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>gmake<span class="w"> </span>setup<span class="w"> </span><span class="nv">COMPILER</span><span class="o">=</span>gcc
</span></code></pre></div>
<p><strong>Important:</strong> Checking your environment</p>
<p>Make the check-environment target to check your environment is set up correctly:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>gmake<span class="w"> </span>check-environment
</span></code></pre></div>
<p>This will report back any issues.</p>
<h3 id="adding-the-local-repository-to-your-publisher-list">Adding the local repository to your publisher list</h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>sudo<span class="w"> </span>/usr/bin/pkg<span class="w"> </span>set-publisher<span class="w"> </span>-p<span class="w"> </span>file://<span class="nv">$HOME</span>/oi-build/i386/repo
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>sudo<span class="w"> </span>/usr/bin/pkg<span class="w"> </span>set-publisher<span class="w"> </span>-P<span class="w"> </span>oi-build
</span></code></pre></div>
<p>You will now be able to pkg install the software you have built and published via oi-build.</p>
<h3 id="optional-running-a-local-pkg-server-for-installation-on-other-zoneshosts">Optional: Running a local pkg server for installation on other zones/hosts</h3>
<p>If you would like to use your oi-build repository on other zones or hosts, you can run a pkg server:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>/usr/lib/pkg.depotd<span class="w"> </span>-d<span class="w"> </span><span class="nv">$HOME</span>/oi-build/i386/repo<span class="w"> </span>-p<span class="w"> </span><span class="m">10000</span>
</span></code></pre></div>
<p>On other hosts, you can then specify http://hostname:10000 instead of the file:// address above.</p>
<p>See the illumos wiki instructions How to build illumos for optional suggestions about running a pkg server instance as an SMF service.</p>
<h3 id="ready-to-build-and-install-your-first-package">Ready to build and install your first package</h3>
<p>Simply descend into the oi-build/components/SOFTWARE directory (where SOFTWARE is the name of the bit of software you wish to build):</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nb">cd</span><span class="w"> </span><span class="nv">$HOME</span>/oi-build/components/SOFTWARE
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>gmake<span class="w"> </span>publish
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>sudo<span class="w"> </span>pkg<span class="w"> </span>install<span class="w"> </span>SOFTWARE
</span></code></pre></div>
<h3 id="contributing-changes-back-to-oi-build">Contributing changes back to oi-build</h3>
<p>Preparing you changes for review</p>
<p>When you think your changes are ready for review you will need to generate a diff. The most common way to do this is "hg diff". It's recommended that you explain the implications of your changeset if it's not immediately obvious, and how you've tested it.</p>
<p>Committing changes</p>
<p>If you changeset has had either "2 thumbs up and 3 days open for review" or "4 thumbs up" then you are now ready to push you changes to the repo. Add and commit all files for your new component using:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nb">cd</span><span class="w"> </span>~/oi-build/components/SOFTWARE
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>hg<span class="w"> </span>add<span class="w"> </span>Makefile<span class="w"> </span>*.p5m<span class="w"> </span>&lt;etc.&gt;
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>hg<span class="w"> </span>commit<span class="w"> </span>.
</span></code></pre></div>
<p>Commit messages must follow this format:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>&lt;bug id&gt; &lt;bug summary&gt;
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>Reviewed by: Reviewer Name &lt;reviewer.name@fake.net&gt;
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>Reviewed by: Reviewer Name &lt;reviewer.name@fake.net&gt;
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>Reviewed by: Reviewer Name &lt;reviewer.name@fake.net&gt;
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>Approved by: My Name &lt;my.name@mydomain.net&gt;
</span></code></pre></div>
<p>When committing changes on behalf of someone else the commit message remains the same but you must pass the committer's name to hg commit.
hg commit -u 'Contributor Name <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#99;&#111;&#110;&#116;&#114;&#105;&#98;&#117;&#116;&#111;&#114;&#46;&#110;&#97;&#109;&#101;&#64;&#102;&#97;&#107;&#101;&#46;&#110;&#101;&#116;">&#99;&#111;&#110;&#116;&#114;&#105;&#98;&#117;&#116;&#111;&#114;&#46;&#110;&#97;&#109;&#101;&#64;&#102;&#97;&#107;&#101;&#46;&#110;&#101;&#116;</a>'</p>
<h2 id="building-ipspkg">Building IPS/pkg</h2>
<div class="note">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For building IPS delivered with modern OpenIndiana, use <a href="https://github.com/OpenIndiana/oi-userland/tree/oi/hipster/components/openindiana/pkg">openindiana/pkg</a> oi-userland component.</p>
</div>
</div>
<p>Following instructions describe building pkg on legacy OpenIndiana /dev distribution.</p>
<p>Make sure you have Sun Studio installed.</p>
<p>Install dependencies:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>sudo<span class="w"> </span>pkg<span class="w"> </span>install<span class="w">                  </span><span class="se">\</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>developer/build/autoconf<span class="w">            </span><span class="se">\</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>developer/build/automake-110<span class="w">        </span><span class="se">\</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>developer/opensolaris/pkg5<span class="w">          </span><span class="se">\</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>developer/swig<span class="w">                      </span><span class="se">\</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>developer/versioning/mercurial<span class="w">      </span><span class="se">\</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>gnome/accessibility/gnome-a11y-libs<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>library/python-2/python-gnome-extras-26<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>library/python-2/python-notify-26<span class="w">   </span><span class="se">\</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>package/pkg/package-manager<span class="w">         </span><span class="se">\</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>package/pkg/update-manager<span class="w">          </span><span class="se">\</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>developer/python/pylint<span class="w">             </span><span class="se">\</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>service/network/dns/mdns<span class="w">            </span><span class="se">\</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>system/library/math/header-math<span class="w">     </span><span class="se">\</span>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>text/gnu-patch<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a>developer/gnome/gnome-doc-utils<span class="w"> </span><span class="se">\</span>
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a>system/zones/internal
</span></code></pre></div>
<p>Set up your environment:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="nv">GATE</span><span class="o">=</span>pkg
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="nv">BUILDNUM</span><span class="o">=</span><span class="m">151</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>pfexec<span class="w"> </span>/sbin/zfs<span class="w"> </span>create<span class="w"> </span>-o<span class="w"> </span><span class="nv">atime</span><span class="o">=</span>off<span class="w"> </span>-p<span class="w"> </span>rpool/export/builds/<span class="nv">$GATE</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>pfexec<span class="w"> </span>chown<span class="w"> </span><span class="sb">`</span>id<span class="w"> </span>-u<span class="sb">`</span>:<span class="sb">`</span>id<span class="w"> </span>-g<span class="sb">`</span><span class="w"> </span>/export/builds/<span class="nv">$GATE</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="nb">cd</span><span class="w"> </span>/export/builds/<span class="nv">$GATE</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="nb">unset</span><span class="w"> </span>CC
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="nb">unset</span><span class="w"> </span>CXX
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="nv">PATH</span><span class="o">=</span>/usr/bin:/usr/sbin:/opt/SUNWspro/bin:/usr/ccs/bin
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="nb">export</span><span class="w"> </span>PATH
</span></code></pre></div>
<p>Get the source and update it to the right branch:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>hg<span class="w"> </span>clone<span class="w"> </span>https://hg.openindiana.org/sustaining/oi_151a/pkg-gate/<span class="w"> </span>pkg-gate
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="nb">cd</span><span class="w"> </span>pkg-gate
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>hg<span class="w"> </span>update<span class="w"> </span>oi_151a
</span></code></pre></div>
<p>Start the building process:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nb">cd</span><span class="w"> </span>src
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>dmake<span class="w"> </span>install
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>make<span class="w"> </span>-e<span class="w"> </span>packages<span class="w"> </span><span class="nv">BUILDNUM</span><span class="o">=</span><span class="si">${</span><span class="nv">BUILDNUM</span><span class="si">}</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/../proto/root_<span class="sb">`</span>uname<span class="w"> </span>-p<span class="sb">`</span>/usr/bin:<span class="nv">$PATH</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="nb">export</span><span class="w"> </span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/../proto/root_<span class="sb">`</span>uname<span class="w"> </span>-p<span class="sb">`</span>/usr/lib/python2.6/vendor-packages:<span class="nv">$PYTHONPATH</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="nb">cd</span><span class="w"> </span>pkg
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>make<span class="w"> </span><span class="nv">BUILDNUM</span><span class="o">=</span><span class="si">${</span><span class="nv">BUILDNUM</span><span class="si">}</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>make<span class="w"> </span>repository-metadata
</span></code></pre></div>
<p>Optional unit tests, which take forever:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nb">cd</span><span class="w"> </span>..
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>make<span class="w"> </span>test-verbose
</span></code></pre></div>
<h2 id="building-sfw">Building SFW</h2>
<p>Following instructions describe building SFW on legacy OpenIndiana /dev distribution.</p>
<p>SFW is the Solars Freeware consolidation, which includes a lot of FOSS software.
Misc note: By default on re-invoking env -i /opt/onbld/bin/nightly yourenvscrip.sh the build process will clear up the previous build run by removing directories with rm -rf</p>
<p>Building SFW is a lot like building ONNV. It's recommended you build SFW on a version of ONNV that's not too far behind it (e.g. build SFW 145 on ONNV 144). Please ensure Sun Studio is set up and pkg has been installed from pkg-gate, as per the ONNV build instructions. Also ensure an up to date onbld is present for the version of SFW you're building (if you've built ONNV on the same box then that will be the case).</p>
<h3 id="installing-dependencies">Installing dependencies</h3>
<p>You'll need to ensure the following dependencies are installed:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>sudo<span class="w"> </span>pkg<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>archiver/gnu-tar<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>compatibility/ucb<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>compress/unzip<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>data/docbook<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>database/mysql-51/library<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>database/postgres-82/developer<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>developer/build/ant<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>developer/build/autoconf<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>developer/build/automake-19<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>developer/build/automake-110<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>developer/build/cmake<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>developer/build/gnu-make<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>developer/build/libtool<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>developer/build/onbld<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>developer/gcc-3<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>developer/gnome/gettext<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>developer/java/junit<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>developer/lexer/flex<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a>developer/object-file<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a>developer/parser/bison<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a>developer/versioning/subversion<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-23"><a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a>file/gnu-coreutils<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-24"><a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a>file/gnu-findutils<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-25"><a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a>library/c++/sigcpp<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-26"><a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a>library/gd<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-27"><a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a>library/glib1<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-28"><a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a>library/graphics/wxwidgets<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-29"><a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a>library/guile<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-30"><a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a>library/libevent<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-31"><a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a>library/libtorrent<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-32"><a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a>library/motif<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-33"><a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a>library/mozilla-nss/header-nss<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-34"><a id="__codelineno-17-34" name="__codelineno-17-34" href="#__codelineno-17-34"></a>library/nspr<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-35"><a id="__codelineno-17-35" name="__codelineno-17-35" href="#__codelineno-17-35"></a>library/nspr/header-nspr<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-36"><a id="__codelineno-17-36" name="__codelineno-17-36" href="#__codelineno-17-36"></a>library/pcre<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-37"><a id="__codelineno-17-37" name="__codelineno-17-37" href="#__codelineno-17-37"></a>library/perl-5/database<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-38"><a id="__codelineno-17-38" name="__codelineno-17-38" href="#__codelineno-17-38"></a>library/python-2/libxml2-26<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-39"><a id="__codelineno-17-39" name="__codelineno-17-39" href="#__codelineno-17-39"></a>library/python-2/setuptools-26<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-40"><a id="__codelineno-17-40" name="__codelineno-17-40" href="#__codelineno-17-40"></a>library/slang<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-41"><a id="__codelineno-17-41" name="__codelineno-17-41" href="#__codelineno-17-41"></a>library/tooltalk<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-42"><a id="__codelineno-17-42" name="__codelineno-17-42" href="#__codelineno-17-42"></a>print/cups<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-43"><a id="__codelineno-17-43" name="__codelineno-17-43" href="#__codelineno-17-43"></a>print/filter/ghostscript<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-44"><a id="__codelineno-17-44" name="__codelineno-17-44" href="#__codelineno-17-44"></a>runtime/erlang<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-45"><a id="__codelineno-17-45" name="__codelineno-17-45" href="#__codelineno-17-45"></a>runtime/lua<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-46"><a id="__codelineno-17-46" name="__codelineno-17-46" href="#__codelineno-17-46"></a>runtime/ocaml<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-47"><a id="__codelineno-17-47" name="__codelineno-17-47" href="#__codelineno-17-47"></a>runtime/ocaml/lablgtk<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-48"><a id="__codelineno-17-48" name="__codelineno-17-48" href="#__codelineno-17-48"></a>service/network/slp<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-49"><a id="__codelineno-17-49" name="__codelineno-17-49" href="#__codelineno-17-49"></a>system/header/header-audio<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-50"><a id="__codelineno-17-50" name="__codelineno-17-50" href="#__codelineno-17-50"></a>system/header/header-ugen<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-51"><a id="__codelineno-17-51" name="__codelineno-17-51" href="#__codelineno-17-51"></a>system/header/header-usb<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-52"><a id="__codelineno-17-52" name="__codelineno-17-52" href="#__codelineno-17-52"></a>system/header/header-agp<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-53"><a id="__codelineno-17-53" name="__codelineno-17-53" href="#__codelineno-17-53"></a>system/library/libpcap<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-54"><a id="__codelineno-17-54" name="__codelineno-17-54" href="#__codelineno-17-54"></a>system/library/math/header-math<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-55"><a id="__codelineno-17-55" name="__codelineno-17-55" href="#__codelineno-17-55"></a>system/library/usb/libusb<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-56"><a id="__codelineno-17-56" name="__codelineno-17-56" href="#__codelineno-17-56"></a>system/network/avahi<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-57"><a id="__codelineno-17-57" name="__codelineno-17-57" href="#__codelineno-17-57"></a>text/gawk<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-58"><a id="__codelineno-17-58" name="__codelineno-17-58" href="#__codelineno-17-58"></a>text/gnu-diffutils<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-59"><a id="__codelineno-17-59" name="__codelineno-17-59" href="#__codelineno-17-59"></a>text/gnu-gettext<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-60"><a id="__codelineno-17-60" name="__codelineno-17-60" href="#__codelineno-17-60"></a>text/gnu-grep<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-61"><a id="__codelineno-17-61" name="__codelineno-17-61" href="#__codelineno-17-61"></a>text/gnu-patch<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-62"><a id="__codelineno-17-62" name="__codelineno-17-62" href="#__codelineno-17-62"></a>text/gnu-sed<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-63"><a id="__codelineno-17-63" name="__codelineno-17-63" href="#__codelineno-17-63"></a>text/groff<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-64"><a id="__codelineno-17-64" name="__codelineno-17-64" href="#__codelineno-17-64"></a>text/texinfo<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-65"><a id="__codelineno-17-65" name="__codelineno-17-65" href="#__codelineno-17-65"></a>web/java-servlet/tomcat<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-66"><a id="__codelineno-17-66" name="__codelineno-17-66" href="#__codelineno-17-66"></a>web/server/apache-13<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-67"><a id="__codelineno-17-67" name="__codelineno-17-67" href="#__codelineno-17-67"></a>web/server/apache-22<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-68"><a id="__codelineno-17-68" name="__codelineno-17-68" href="#__codelineno-17-68"></a>x11/library/mesa<span class="w"> </span><span class="se">\</span>
</span><span id="__span-17-69"><a id="__codelineno-17-69" name="__codelineno-17-69" href="#__codelineno-17-69"></a>x11/optional-clients
</span></code></pre></div>
<p>Then run the following to set up the build environment:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>pfexec sh /usr/share/sgml/docbook/docbook-catalog-install.sh
</span></code></pre></div>
<div class="note">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command seems to be unnecessary.</p>
</div>
</div>
<div class="note">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If repeating builds do not repeat the docbook-catalog-install.sh, it will break stuff!</p>
</div>
</div>
<p>You will likely find that the build never completes.  Instead, it hangs with a spinning `yes' command.  This happens because php-5.2.17 must be built with version 2.13 of the autoconf tools.  Version 2.69 is installed by the package listed above.  You will need to build 2.1.3 from source and install it where it won't interfere with 2.69.  /opt/auto is a suitable place.  Then you will need to patch usr/src/cmd/php5/Makefile.sfw so that the php build will use 2.13.  This patch file is suitable:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>--- Makefile.sfw-orig      ::
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>+++ Makefile.sfw           ::
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>@@ -18,9 +18,9 @@
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a> #
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a> # CDDL HEADER END
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a> #
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>+# Copyright 2016 Gary Mills
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a> # Copyright (c) 2007, 2011, Oracle and/or its affiliates. All rights reserved.
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a> #
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>-#pragma ident  &quot;@(#)Makefile.sfw       1.47    11/06/15 SMI&quot;
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a> PHP_REL=5.2
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a> #
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>@@ -118,7 +118,9 @@
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a> PRECONF_ENVLINE= \
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>        PATH=/usr/gnu/bin:/usr/bin \
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>-       MAKE=$(GMAKE)
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a>+       MAKE=$(GMAKE) \
</span><span id="__span-19-20"><a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a>+       PHP_AUTOCONF=/opt/auto/bin/autoconf \
</span><span id="__span-19-21"><a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a>+       PHP_AUTOHEADER=/opt/auto/bin/autoheader
</span><span id="__span-19-22"><a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a>
</span><span id="__span-19-23"><a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a> CONF_ENVLINE= \
</span><span id="__span-19-24"><a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a>        CC=$(CC) \
</span></code></pre></div>
<h3 id="doing-a-build">Doing a build:</h3>
<p>You can obtain the sfwnv source from either the Sun website (selecting the correct directory and files for the version you wish to build) or use one of the hg repos like:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>hg<span class="w"> </span>clone<span class="w"> </span>https://hg.openindiana.org/sustaining/oi_151a/sfw-gate/
</span></code></pre></div>
<p>cd to the directory you either unpacked or cloned then edit or make a copy of usr/src/tools/env/sfw-opensolaris.sh and invoke the build with</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>env<span class="w"> </span>-i<span class="w"> </span>/opt/onbld/bin/nightly<span class="w"> </span>./sfw-opensolaris.sh<span class="w"> </span><span class="p">&amp;</span>
</span></code></pre></div>
<h3 id="variables">Variables</h3>
<p>In <code>usr/src/tools/env/yourenvscrip.sh</code>
<code>MAKEFLAGS=k</code> means continue on error
<code>DMAKE_MAX_JOBS</code> is worth cranking if you're on a multicore system
See scripts for other options available as it's well documented.</p>
<h2 id="building-xnv">Building XNV</h2>
<p>Following instructions describe building XNV on legacy OpenIndiana /dev distribution.</p>
<h3 id="install-pre-requisites">Install pre-requisites</h3>
<div class="note">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You must build this XNV release with Sun Studio 12 (Sept 2009 edition with CBE patches), and NOT Sun Studio 12.1. If you build it with 12.1 you'll suffer frequent freezes.</p>
</div>
</div>
<p>The following should install all the dependencies required to build X, with the exception of Sun Studio 12 which you will have to obtain separately.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>pfexec<span class="w"> </span>pkg<span class="w"> </span>install<span class="w"> </span>developer/opensolaris/X<span class="w"> </span>developer/build/cbe<span class="w"> </span>x11-network-proxies
</span></code></pre></div>
<h3 id="do-the-build">Do the build</h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nb">cd</span><span class="w"> </span>~
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>hg<span class="w"> </span>clone<span class="w"> </span>https://hg.openindiana.org/sustaining/oi_151a/xnv
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="nb">cd</span><span class="w"> </span>xnv
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>hg<span class="w"> </span>update<span class="w"> </span>oi_151a
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>make<span class="w"> </span>setup<span class="w"> </span><span class="nv">X_BUILD_OPTIONS</span><span class="o">=</span>openindiana
</span></code></pre></div>
<p>Fetch the tar balls by executing:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>./download-tarballs
</span></code></pre></div>
<p>Start the XNV build process:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>export PATH=/opt/SUNWspro/bin:/usr/bin:/usr/sbin:/usr/ccs/bin:bin:/usr/dt/bin/:/usr/openwin/bin:/opt/onbld/bin:/opt/onbld/bin/i386:/usr/sfw/bin
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>./buildit
</span></code></pre></div>
<p>As xnv uses a parallel build, if the build process fails, run</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>open-src/util/build-tools/find-build-errors
</span></code></pre></div>
<p>to find errors.</p>
<p>Create the IPS repository:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nb">cd</span><span class="w"> </span>pkg
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>make
</span></code></pre></div>
<h2 id="building-jds">Building JDS</h2>
<p>Following instructions describe building JDS on legacy OpenIndiana /dev distribution.</p>
<p>Steps for building JDS</p>
<ul>
<li>Create a fresh zone (do not use the global zone, during the build files will be installed directly into the running system bypassing the packaging system!).</li>
<li>Obtain oi-cbe from <a href="https://hg.openindiana.org/oi-cbe/">https://hg.openindiana.org/oi-cbe/</a></li>
<li>Download sunstudio12u1-patched-ii-2010Feb-sol-x86.tar.gz and desktop-cbe-mini-1.8.0.tar.bz2 and place them inside oi-cbe/sources</li>
</ul>
<p>Copy oi-cbe into the zone and execute setup-buildenv.sh jds in order to set up the build environment.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1"># buildzone=jdszone       # name of the designated build zone</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="c1"># zonepath=/path/to/zone  # path to the designated build zone</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="c1"># cp -r oi-cbe ${zonepath}/root/var/tmp/</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="c1"># zlogin $buildzone &#39;cd /var/tmp/oi-cbe &amp;&amp; ./setup-buildenv.sh jds&#39;</span>
</span></code></pre></div>
<p>Download and place all JDS source files into ${HOME}/packages/SOURCES</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1"># zlogin -l abuild $buildzone &#39;cd ${HOME}/packages/SOURCES &amp;&amp; wget -r -l1 -np -nd http://dlc.openindiana.org/oi/jds/downloads/sources/&#39;</span>
</span></code></pre></div>
<p>Check out the JDS spec files and the OpenIndiana patchset.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1"># zlogin -l abuild $buildzone &#39;hg clone https://hg.openindiana.org/spec-files-mozilla-l10n/ ${HOME}/spec-files-mozilla-l10n&#39;</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="c1"># zlogin -l abuild $buildzone &#39;hg clone https://hg.openindiana.org/spec-files/ ${HOME}/spec-files&#39;</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="c1"># zlogin -l abuild $buildzone &#39;hg clone https://hg.openindiana.org/mq_spec-files/ ${HOME}/spec-files/.hg/patches&#39;</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Update to the desired version and apply all patches.
</code></pre></div>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1"># zlogin -l abuild $buildzone &#39;cd ${HOME}/spec-files &amp;&amp; hg -R .hg/patches up oi_148 &amp;&amp; hg up NEVADA_148 &amp;&amp; hg --config extensions.mq=1 --config diff.git=1 qpush -a&#39;</span>
</span></code></pre></div>
<p>Prepare and build JDS.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1"># zlogin -l abuild $buildzone &#39;. /opt/dtbld/bin/env.sh; cd ${HOME}/spec-files &amp;&amp; make&#39;</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="c1"># zlogin -l abuild $buildzone &#39;. /opt/dtbld/bin/env.sh; rm ${HOME}/status.html; cd ${HOME}/spec-files &amp;&amp; pkgtool -v --topdir=${HOME}/packages --tarballdirs ${HOME}/packages/SOURCES:${PWD}/manpages/sun-manpage-tarballs:${PWD}/manpages-roff/sun-manpage-tarballs:${PWD}/po-sun/po-sun-tarballs:${tarballdirs} --update --rmlog --logdir=${HOME}/logs --logdir-url=/logs --live --summary-log=${HOME}/status.html --nopkg --with-l10n --with-openindiana-branding build specs/*.spec&#39;</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="c1"># zlogin -l abuild $buildzone &#39;. /opt/dtbld/bin/env.sh; rm ${HOME}/status.html; cd ${HOME}/spec-files-mozilla-l10n &amp;&amp; pkgtool -v --topdir=${HOME}/packages --tarballdirs ${HOME}/packages/SOURCES:${tarballdirs} --update --rmlog --logdir=${HOME}/logs --logdir_url=/logs --live --summary-log=${HOME}/status.html --nopkg --with-l10n build specs/*.spec&#39;</span>
</span></code></pre></div>
<p>SVR4 packages will be placed into ${HOME}/packages.</p>
<h2 id="building-slim_source">Building slim_source</h2>
<div class="note">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For building slim_source used in modern OpenIndiana, use <a href="https://github.com/OpenIndiana/oi-userland/tree/oi/hipster/components/openindiana/slim_source&quot;">openindiana/slim_source</a> oi-userland component.</p>
</div>
</div>
<p>Following instructions describe building slim_source on legacy OpenIndiana /dev distribution.</p>
<p><strong>Build Environment</strong></p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>We would always recommend building in a Zone. To build slim_source as per the instructions below, please make sure you are running oi_151. You will also need to make sure you have Sun Studio installed.</p>
</div>
<p>Get slim_source source:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">BUILD_ID</span><span class="o">=</span>oi_151a
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">SNV</span><span class="o">=</span><span class="m">151</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>hg<span class="w"> </span>clone<span class="w"> </span>https://hg.openindiana.org/sustaining/oi_151a/slim_source/
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="nb">cd</span><span class="w"> </span>slim_source
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>hg<span class="w"> </span>update<span class="w"> </span><span class="nv">$BUILD_ID</span>
</span></code></pre></div>
<p>Install required IPS packages:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>sudo<span class="w"> </span>pkg<span class="w"> </span>install<span class="w"> </span>archiver/gnu-tar<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>developer/build/onbld<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>developer/object-file<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>developer/swig<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>developer/versioning/mercurial<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>gnome/config/gconf<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>install/beadm<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>library/desktop/gtk2<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a>library/desktop/libglade<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-10"><a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a>library/glib2<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-11"><a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a>library/gnome/gnome-libs<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-12"><a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a>package/svr4<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-13"><a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a>service/network/smtp/sendmail<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-14"><a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a>system/boot/wanboot/internal<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-15"><a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a>system/library/install<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-16"><a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a>system/library/install/libinstzones<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-17"><a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a>system/library/libdiskmgt/header-libdiskmgt<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-18"><a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a>system/library/storage/ima/header-ima<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-19"><a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a>system/zones/internal<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-20"><a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a>text/gnu-gettext<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-21"><a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a>text/gnu-grep<span class="w"> </span><span class="se">\</span>
</span><span id="__span-34-22"><a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a>text/gnu-sed
</span></code></pre></div>
<p>Prepare the build script:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="nb">cd</span><span class="w"> </span>usr/src
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>cp<span class="w"> </span>tools/env/developer.sh<span class="w"> </span>.
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>gsed<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;s%export CODEMGR_WS=.*%export CODEMGR_WS=&quot;`hg root`&quot;%g&#39;</span><span class="w"> </span>developer.sh
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;export CW_NO_SHADOW=1&#39;</span><span class="w"> </span>&gt;&gt;developer.sh
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;export INSTALL_BUILDNUM=</span><span class="nv">$SNV</span><span class="s2">&quot;</span><span class="w"> </span>&gt;&gt;developer.sh
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;export NIGHTLY_OPTIONS=&quot;-ANndlmp +t&quot;&#39;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>developer.sh
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;export SPRO_ROOT=/opt/sunstudio12.1&#39;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>developer.sh
</span></code></pre></div>
<p>Start the build:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>/opt/onbld/bin/nightly<span class="w"> </span>developer.sh
</span></code></pre></div>
<p>Once the build is complete, you can check the logs in ../../log/*</p>
<p>If the build was successful, the end result are two repos: under the base slim_source directory: <code>packages/i386/nightly-nd/repo.extra</code> and <code>packages/i386/nightly-nd/repo.redist</code></p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_datetime">2023-09-03 19:46:49</span>
      
        <br>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_datetime">2019-05-23 20:20:46</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../userland/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Building with oi-userland" rel="prev">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Building with oi-userland
              </div>
            </div>
          </a>
        
        
          
          <a href="../graphics-stack/" class="md-footer__link md-footer__link--next" aria-label="Next: Graphics stack" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Graphics stack
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 <a href="https://www.openindiana.org">The OpenIndiana Project</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.footer", "content.action.edit", "content.code.copy", "search.highlight"], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
    
  </body>
</html>